.\" File automatically generated by doxy2man0.1
.\" Generation date: mar. avr. 24 2018
.TH rohc_comp_new2 3 2018-04-24 "ROHC" "ROHC library Programmer's Manual"
.SH "NAME"
rohc_comp_new2 \- Create a new ROHC compressor.
.SH SYNOPSIS
.nf
.B #include <rohc/rohc_comp.h>
.sp
\fBstruct rohc_comp * rohc_comp_new2\fP(
    \fBconst rohc_cid_type_t        cid_type\fP,
    \fBconst rohc_cid_t             max_cid\fP,
    \fBconst rohc_comp_random_cb_t  rand_cb\fP,
    \fBvoid *const                  rand_priv\fP
);
.fi
.SH DESCRIPTION
.PP 
Create a new ROHC compressor with the given type of CIDs and MAX_CID.
.PP 
The user\-defined callback for random numbers is called by the ROHC library every time a new random number is required. It currently happens only to initiate the Sequence Number (SN) of new IP\-only, IP/UDP, or IP/UDP\-Lite streams to a random value as defined by RFC 3095.
.SH PARAMETERS
.TP
.B cid_type
The type of Context IDs (CID) that the ROHC compressor shall operate with. Accepted values are: 
.RS

\(bu \fBROHC_SMALL_CID\fP for small CIDs 

\(bu \fBROHC_LARGE_CID\fP for large CIDs 


.RE
.TP
.B max_cid
The maximum value that the ROHC compressor should use for context IDs (CID). As CIDs starts with value 0, the number of contexts is \fBmax_cid\fP + 1. 
 Accepted values are: 
.RS

\(bu [0, \fBROHC_SMALL_CID_MAX\fP] if \fBcid_type\fP is \fBROHC_SMALL_CID\fP 

\(bu [0, \fBROHC_LARGE_CID_MAX\fP] if \fBcid_type\fP is \fBROHC_LARGE_CID\fP 


.RE
.TP
.B rand_cb
The random callback to set 
.TP
.B rand_priv
Private data that will be given to the callback, may be used as a context by user 
.SH RETURN VALUE
.PP
The created compressor if successful, NULL if creation failed
.SH NOTES
.PP
Don't forget to free compressor memory with \fBrohc_comp_free\fP if \fBrohc_comp_new2\fP succeeded
.SH EXAMPLE
.nf
struct rohc_comp *compressor;           /* the ROHC compressor */

compressor = rohc_comp_new2(ROHC_SMALL_CID, ROHC_SMALL_CID_MAX,
                            gen_random_num, NULL);
if(compressor == NULL)
{
        fprintf(stderr, "failed create the ROHC compressor\n");
        goto error;
}

rohc_comp_free(compressor);



.fi
.SH SEE ALSO
.BR rohc_comp.h (3),
.BR ROHC_SMALL_CID (3),
.BR ROHC_LARGE_CID (3),
.BR ROHC_SMALL_CID_MAX (3),
.BR ROHC_LARGE_CID_MAX (3),
.BR rohc_comp_free (3),
.BR rohc_compress4 (3),
.BR rohc_comp_set_traces_cb2 (3),
.BR rohc_comp_enable_profiles (3),
.BR rohc_comp_enable_profile (3),
.BR rohc_comp_disable_profiles (3),
.BR rohc_comp_disable_profile (3),
.BR rohc_comp_set_mrru (3),
.BR rohc_comp_set_wlsb_window_width (3),
.BR rohc_comp_set_periodic_refreshes (3),
.BR rohc_comp_set_rtp_detection_cb (3)
