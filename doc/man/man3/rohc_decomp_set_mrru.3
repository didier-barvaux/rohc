.\" File automatically generated by doxy2man0.1
.\" Generation date: mar. avr. 24 2018
.TH rohc_decomp_set_mrru 3 2018-04-24 "ROHC" "ROHC library Programmer's Manual"
.SH "NAME"
rohc_decomp_set_mrru \- Set the Maximum Reconstructed Reception Unit (MRRU).
.SH SYNOPSIS
.nf
.B #include <rohc/rohc_decomp.h>
.sp
\fBbool rohc_decomp_set_mrru\fP(
    \fBstruct rohc_decomp *const  decomp\fP,
    \fBconst size_t               mrru\fP
);
.fi
.SH DESCRIPTION
.PP 
Set the Maximum Reconstructed Reception Unit (MRRU).
.PP 
The MRRU is the largest cumulative length (in bytes) of the ROHC segments that are parts of the same ROHC packet. In short, the ROHC decompressor does not expect to reassemble ROHC segments whose total length is larger than MRRU. So, the ROHC compressor shall not segment ROHC packets greater than the MRRU.
.PP 
The MRRU value must be in range [0 ; \fBROHC_MAX_MRRU\fP]. Remember that the MRRU includes the 32\-bit CRC that protects it. If set to 0, segmentation is disabled as no segment headers are allowed on the channel. Every received segment will be dropped.
.PP 
According to RF5225 ยง6.1, ROHC segmentation cannot be enabled if any ROHCv2 profile is also enabled.
.PP 
If segmentation is enabled and used by the compressor, the function \fBrohc_decompress3\fP will return ROHC_OK and one empty uncompressed packet upon decompression until the last segment is received (or a non\-segment is received). Decompressed data will be returned at that time.
.SH PARAMETERS
.TP
.B decomp
The ROHC decompressor 
.TP
.B mrru
The new MRRU value (in bytes) 
.SH STRUCTURES
.SH RETURN VALUE
.PP
true if the MRRU was successfully set, false otherwise
.SH NOTES
.PP
Changing the MRRU value while library is used may lead to destruction of the current RRU.
.SH EXAMPLE
.nf
struct rohc_decomp *decomp;
rru = 500;

/* create the ROHC decompressor in uni\-directional mode */
decomp = rohc_decomp_new2(ROHC_SMALL_CID, ROHC_SMALL_CID_MAX, ROHC_U_MODE);
if(decomp == NULL)
{
        fprintf(stderr, "failed to create the ROHC decompressor\n");
        goto destroy_comp;
}

/* set the MRRU at decompressor */
if(!rohc_decomp_set_mrru(decomp, mrru))
{
        fprintf(stderr, "failed to set the MRRU at decompressor\n");
        goto destroy_decomp;
}




.fi
.SH SEE ALSO
.BR rohc_decomp.h (3),
.BR ROHC_MAX_MRRU (3),
.BR rohc_decompress3 (3),
.BR rohc_decomp_get_mrru (3),
.BR rohc_comp_set_mrru (3),
.BR rohc_comp_get_mrru (3)
